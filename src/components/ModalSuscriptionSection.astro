---
import "../styles/global.css";
---

<!-- Botón que abre el modal -->
<button 
  id="open-modal"
  class="bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-semibold px-6 py-3 rounded-md shadow-lg transition"
>
  Inscripciones
</button>

<!-- Modal (oculto por defecto) -->
<div id="classroom-modal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50">
  <div class="bg-white rounded-3xl shadow-xl max-w-md w-full mx-4 p-8 relative transform scale-95 opacity-0 transition duration-300">
    <!-- Botón de cerrar -->
    <button 
      id="close-modal"
      class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-xl"
      aria-label="Cerrar modal"
    >
      ✕
    </button>

    <!-- Contenido del modal -->
    <h2 class="text-2xl font-bold text-gray-900 mb-4">Inscripción a Classroom</h2>
    <p class="text-gray-700 mb-6">
      Ingresa tus datos y el código de classroom para unirte a la clase.
    </p>

    <form class="space-y-5">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre completo</label>
        <input type="text" placeholder="Tu nombre"
          class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-yellow-400 focus:outline-none" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Correo</label>
        <input type="email" placeholder="tu@correo.com"
          class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-yellow-400 focus:outline-none" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Código de Classroom</label>
        <input type="text" placeholder="abc123"
          class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-yellow-400 focus:outline-none" />
      </div>

      <button type="submit"
        class="w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-semibold py-3 rounded-xl shadow-md transition">
        Unirme a la clase
      </button>
    </form>
  </div>
</div>

<!-- Script para abrir/cerrar el modal -->
<script is:inline>
  const openBtn = document.getElementById("open-modal");
  const closeBtn = document.getElementById("close-modal");
  const modal = document.getElementById("classroom-modal");
  const modalBox = modal.querySelector("div");

  openBtn.addEventListener("click", () => {
    modal.classList.remove("hidden");
    setTimeout(() => {
      modalBox.classList.remove("scale-95", "opacity-0");
      modalBox.classList.add("scale-100", "opacity-100");
    }, 10);
  });

  closeBtn.addEventListener("click", () => {
    modalBox.classList.add("scale-95", "opacity-0");
    modalBox.classList.remove("scale-100", "opacity-100");
    setTimeout(() => {
      modal.classList.add("hidden");
    }, 200);
  });

  // Cerrar modal haciendo clic fuera de la caja
  modal.addEventListener("click", (e) => {
    if (e.target === modal) closeBtn.click();
  });
</script>
