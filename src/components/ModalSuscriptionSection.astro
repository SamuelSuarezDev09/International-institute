---
import "../styles/global.css";
---

<!-- Botón que abre el modal -->
<button 
  id="open-modal"
  class="bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-semibold px-6 py-3 rounded-md shadow-lg transition"
>
  Inscripciones
</button>

<!-- Modal (oculto por defecto) -->
<div id="classroom-modal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50">
  <div class="bg-white rounded-3xl shadow-xl max-w-md w-full mx-4 p-8 relative transform scale-95 opacity-0 transition duration-300">
    <!-- Botón de cerrar -->
    <button 
      id="close-modal"
      class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-xl"
      aria-label="Cerrar modal"
    >
      ✕
    </button>

    <!-- Contenido del modal -->
    <h2 class="text-2xl font-bold text-gray-900 mb-4">Inscripción a Classroom</h2>
    <p class="text-gray-700 mb-6">
      Ingresa tus datos y el código de classroom para unirte a la clase.
    </p>

    <a 
    href="https://classroom.google.com/u/4/h" 
    target="_blank" 
    rel="noopener noreferrer"
    class="bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-semibold px-6 py-3 rounded-md shadow-lg transition"
  >
    Entrar a classroom
  </a>
  </div>
</div>

<!-- Script para abrir/cerrar el modal -->
<script is:inline>
  const openBtn = document.getElementById("open-modal");
  const closeBtn = document.getElementById("close-modal");
  const modal = document.getElementById("classroom-modal");
  const modalBox = modal.querySelector("div");

  openBtn.addEventListener("click", () => {
    modal.classList.remove("hidden");
    setTimeout(() => {
      modalBox.classList.remove("scale-95", "opacity-0");
      modalBox.classList.add("scale-100", "opacity-100");
    }, 10);
  });

  closeBtn.addEventListener("click", () => {
    modalBox.classList.add("scale-95", "opacity-0");
    modalBox.classList.remove("scale-100", "opacity-100");
    setTimeout(() => {
      modal.classList.add("hidden");
    }, 200);
  });

  // Cerrar modal haciendo clic fuera de la caja
  modal.addEventListener("click", (e) => {
    if (e.target === modal) closeBtn.click();
  });
</script>
