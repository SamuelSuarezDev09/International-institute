---
import "../styles/global.css";
import Logo from "../assets/logo.jpeg";
---

<header
  id="main-header"
  class="bg-black w-full text-white py-3 px-4 md:px-6 fixed top-0 z-50 transition-all duration-300"
>
  <div class="max-w-7lg mx-auto flex items-center justify-between">
    <!-- LOGO -->
    <div data-scroll="inicio" class="flex items-center space-x-2">
      <div
        class="w-16 h-16 md:w-24 md:h-24 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center"
      >
        <img
          class="w-full h-full rounded-md object-cover"
          src={Logo.src}
          alt="Logo"
        />
      </div>
    </div>

    <!-- DESKTOP NAV -->
    <nav class="hidden lg:flex items-center space-x-8 text-base">
      <button data-scroll="inicio" class="hover:text-yellow-400 transition-colors">Inicio</button>
      <button data-scroll="programas" class="hover:text-yellow-400 transition-colors">Programas</button>
      <button data-scroll="recursos" class="hover:text-yellow-400 transition-colors">Recursos</button>
      <button data-scroll="nosotros" class="hover:text-yellow-400 transition-colors">Nosotros</button>
      <button data-scroll="contacto" class="hover:text-yellow-400 transition-colors">Contacto</button>
      <button data-scroll="donate" class="hover:text-yellow-400 transition-colors">Donativos</button>
      
      <a
        class="bg-yellow-400 text-sm cursor-pointer h-full px-4 py-3 rounded-md text-black hover:bg-yellow-500 transition"
        target="_blank"
        href="https://drive.google.com/drive/u/4/home"
      >
        Ingreso maestros
      </a>
      
      <!-- BotÃ³n que abre el modal -->
      <button
        id="open-student-modal"
        class="bg-yellow-400 text-sm cursor-pointer h-full px-4 py-3 rounded-md text-black hover:bg-yellow-500 transition"
      >
        Ingreso Estudiantes
      </button>
    </nav>

    <!-- MOBILE MENU BUTTON -->
    <button id="menu-btn" class="lg:hidden flex flex-col justify-center space-y-1">
      <span class="block w-6 h-0.5 bg-white"></span>
      <span class="block w-6 h-0.5 bg-white"></span>
      <span class="block w-6 h-0.5 bg-white"></span>
    </button>
  </div>

  <!-- MOBILE NAV -->
  <nav
    id="mobile-menu"
    class="hidden flex-col space-y-4 bg-black px-6 pb-4 pt-4 text-lg lg:hidden"
  >
    <button data-scroll="inicio" class="hover:text-yellow-400 transition-colors">Inicio</button>
    <button data-scroll="programas" class="hover:text-yellow-400 transition-colors">Programas</button>
    <button data-scroll="recursos" class="hover:text-yellow-400 transition-colors">Recursos</button>
    <button data-scroll="nosotros" class="hover:text-yellow-400 transition-colors">Nosotros</button>
    <button data-scroll="contacto" class="hover:text-yellow-400 transition-colors">Contacto</button>
    <button data-scroll="donate" class="hover:text-yellow-400 transition-colors">Donativos</button>
    
    <button class="bg-yellow-400 px-4 py-2 rounded-md text-black hover:bg-yellow-500 transition">
      <a class="text-base" target="_blank" href="https://drive.google.com/drive/u/4/home">Ingreso maestros</a>
    </button>

    <button
      id="open-student-modal-mobile"
      class="bg-yellow-400 px-4 py-2 rounded-md text-black hover:bg-yellow-500 transition"
    >
      Ingreso Estudiantes
    </button>
  </nav>
</header>

<!-- MODAL -->
<div
  id="student-modal"
  class="fixed inset-0 hidden bg-black bg-opacity-80 flex items-center justify-center z-50"
>
  <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full text-center">
    <h2 class="text-lg font-semibold mb-4">Aviso</h2>
    <p class="text-gray-700 mb-6">
      Para ingresar a Classroom, abre el enlace con tu cuenta de <b>@ibgyv.com</b>.
    </p>
    <div class="flex justify-center space-x-4">
      <button
        id="close-student-modal"
        class="bg-gray-400 px-4 py-2 rounded-md text-white hover:bg-gray-500 transition"
      >
        Cerrar
      </button>
      <a
        href="https://classroom.google.com/u/5/?pli=1"
        target="_blank"
        class="bg-yellow-400 px-4 py-2 rounded-md text-black hover:bg-yellow-500 transition"
      >
        Ir a Classroom
      </a>
    </div>
  </div>
</div>

<script is:inline>
  const modal = document.getElementById("student-modal");
  const openBtn = document.getElementById("open-student-modal");
  const openBtnMobile = document.getElementById("open-student-modal-mobile");
  const closeBtn = document.getElementById("close-student-modal");

  if (openBtn) {
    openBtn.addEventListener("click", () => {
      modal.classList.remove("hidden");
    });
  }
  if (openBtnMobile) {
    openBtnMobile.addEventListener("click", () => {
      modal.classList.remove("hidden");
    });
  }
  if (closeBtn) {
    closeBtn.addEventListener("click", () => {
      modal.classList.add("hidden");
    });
  }

  // Cerrar al hacer click fuera del modal
  modal.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.classList.add("hidden");
    }
  });
</script>
